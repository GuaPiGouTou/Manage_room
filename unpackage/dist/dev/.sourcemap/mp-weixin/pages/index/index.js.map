{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/文档/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"login-container\">\n    <!-- 顶部LOGO区域 -->\n    <view class=\"login-header\">\n      <image class=\"logo\" src=\"/static/logo.png\"></image>\n      <text class=\"app-name\">房源管理助手</text>\n    </view>\n  \n \n    <!-- 微信授权登录 -->\n\t<view style=\"background-color: beige; border-radius: 300px;\">\r\n\t\t<button type=\"primary\"  style=\"border-radius: 30rpx;\" @tap=\"openLoing\">微信授权登录</button>\r\n\t</view>\r\n\t<uni-popup ref=\"popup\" type=\"bottom\" border-radius=\"10px 10px 0 0\">\r\n\t\t\r\n\t\t<view class=\"prop\">\r\n\t\t<image src=\"/static/index/success.png\" ></image>\r\n\t\t\t<text>{{msg}}</text>\r\n\t\t\t\t<button @tap=\"ToMap\" type=\"primary\">进入主页</button>\r\n\t\t\t\t\r\n\t\t</view>\r\n\t</uni-popup>\r\n\t<!-- <button @tap=\"ToMap1\" type=\"primary\">进入</button> -->\n  </view>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        title: '登录页面',\n        showAccountLogin: false, // 是否显示账号登录表单\n        account: '', // 账号\n        password: '', // 密码\n        agreement: false, // 是否同意协议\n        canUsePhone: false, // 是否支持手机号授权\n        isLandlord: false, // 是否为房东\r\n\t\tmsg:\"提示信息\"\n      }\n    },\n    onLoad() {\r\n\t // 初始化云开发\r\n\t  wx.cloud.init({\r\n\t    env: 'prod-7g3ji5ui73a4702f', // 替换为你的实际环境ID\r\n\t    traceUser: true // 是否记录用户访问\r\n\t  })\n    },\n    methods: {\r\n\t\tToMap1(){\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl:\"/pages/marker/addMarker/addMarker\"\r\n\t\t\t})\r\n\t\t},\r\n\t\topenr(){\r\n\t\t\tthis.msg = \"成功登录\"\r\n\t\t\tthis.$refs.popup.open('center')\r\n\t\t},\r\n\t\topenLoing(){\r\n\t\t\twx.login({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res.code)\r\n\t\t\t\t\t// 微信登录\r\n\t\t\t\t\tif (res.code) {\r\n\t\t\t\t\t  // 发送code到后端服务器\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:\"https://api.weixin.qq.com/sns/jscode2session\",\r\n\t\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tappid:\"wxb987e736434c92bd\",\r\n\t\t\t\t\t\t\tsecret:\"c3bec3b7409f9c4f4bdc83f1197515a2\",\r\n\t\t\t\t\t\t\tjs_code:res.code,\r\n\t\t\t\t\t\t\tgrant_type:\"authorization_code\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:(res)=> {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\twx.setStorageSync('session_key', res.data.session_key);\r\n\t\t\t\t\t\t\twx.setStorageSync('openid', res.data.openid)\t\r\n\t\t\t\t\t\t\tthis.msg = \"成功登录\"\r\n\t\t\t\t\t\t\tthis.$refs.popup.open('center')\r\n\t\t\t\t\t\t},fail(res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t}},\r\n\t\t\t\tfail: (res) => {console.log(res)}\r\n\t\t\t})\r\n\t\t},   \r\n\t  ToMap(){\r\n\t\tuni.redirectTo({\r\n\t\t\turl:\"/pages/map/map\"\r\n\t\t})\r\n\t  }\n    }\n  }\n</script>\n\n<style scoped>\r\n\t.prop {\r\n\t  width: 280px; \r\n\t  height: 250px; \r\n\t  background-color: aliceblue; \r\n\t  border-radius: 10px; \r\n\t  display: flex;\r\n\t  flex-direction: column;\r\n\t  align-items: center;       /* 水平居中 */\r\n\t  justify-content: center;   /* 垂直居中 */\r\n\t  padding: 20px 0;           /* 调整内边距 */\r\n\t  font-size: 20px;\r\n\t}\r\n\t.prop image {\r\n\t  width: 50px; \r\n\t  height: 50px; \r\n\t  margin-bottom: 30px;      /* 图片下间距 */\r\n\t}\r\n\t.prop text {\r\n\t  text-align: center;       /* 文本居中 */\r\n\t}\r\n\t.prop button {\r\n\t  width: 80%; \r\n\t  margin-top: 30px;         /* 按钮上间距 */\r\n\t}\n  .login-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 40rpx;\n    min-height: 100vh;\n    background-color: #f7f7f7;\n  }\n  \n  .login-header {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 100rpx;\n    margin-bottom: 80rpx;\n  }\n  \n  .logo {\n    height: 160rpx;\n    width: 160rpx;\n    border-radius: 24rpx;\n  }\n  \n  .app-name {\n    font-size: 40rpx;\n    font-weight: bold;\n    margin-top: 20rpx;\n    color: #333;\n  }\n  \n  .login-form, .wechat-login {\n    width: 100%;\n    padding: 0 40rpx;\n    box-sizing: border-box;\n  }\n  \n  .form-item {\n    display: flex;\n    align-items: center;\n    height: 100rpx;\n    background: #ffffff;\n    border-radius: 12rpx;\n    padding: 0 30rpx;\n    margin-bottom: 30rpx;\n    box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  }\n  \n  .input {\n    flex: 1;\n    height: 100rpx;\n    margin-left: 20rpx;\n    font-size: 32rpx;\n  }\n  \n  .placeholder {\n    color: #cccccc;\n  }\n  \n  .login-btn {\n    background-color: #07C160;\n    color: #ffffff;\n    font-size: 34rpx;\n    height: 90rpx;\n    line-height: 90rpx;\n    border-radius: 45rpx;\n    margin-top: 20rpx;\n  }\n  \n  .wechat-login-btn {\n    background-color: #07C160;\n    color: #ffffff;\n    font-size: 34rpx;\n    height: 90rpx;\n    line-height: 90rpx;\n    border-radius: 45rpx;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .wechat-login-btn text {\n    margin-left: 15rpx;\n  }\n  \n  .login-switch {\n    text-align: center;\n    font-size: 28rpx;\n    color: #07C160;\n    margin-top: 40rpx;\n    padding: 20rpx;\n  }\n  \n  .agreement {\n    position: fixed;\n    bottom: 60rpx;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 24rpx;\n    color: #666;\n  }\n  \n  .agreement-link {\n    color: #07C160;\n    margin-left: 8rpx;\n  }\n  \n  /* 按钮激活状态 */\n  button:active {\n    opacity: 0.8;\n  }\n  \n  /* 去除微信小程序按钮的默认样式 */\n  button::after {\n    border: none;\n  }\n  \n  /* 按钮禁用样式 */\n  button[disabled] {\n    background-color: #cccccc !important;\n    color: #999 !important;\n  }\n</style>","import MiniProgramPage from 'E:/Manage_Project/demo/demo1/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["wx","uni","res"],"mappings":";;;AA2BE,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,OAAO;AAAA,MACP,kBAAkB;AAAA;AAAA,MAClB,SAAS;AAAA;AAAA,MACT,UAAU;AAAA;AAAA,MACV,WAAW;AAAA;AAAA,MACX,aAAa;AAAA;AAAA,MACb,YAAY;AAAA;AAAA,MAClB,KAAI;AAAA,IACA;AAAA,EACD;AAAA,EACD,SAAS;AAEVA,kBAAE,KAAC,MAAM,KAAK;AAAA,MACZ,KAAK;AAAA;AAAA,MACL,WAAW;AAAA;AAAA,KACZ;AAAA,EACC;AAAA,EACD,SAAS;AAAA,IACX,SAAQ;AACPC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI;AAAA,OACJ;AAAA,IACD;AAAA,IACD,QAAO;AACN,WAAK,MAAM;AACX,WAAK,MAAM,MAAM,KAAK,QAAQ;AAAA,IAC9B;AAAA,IACD,YAAW;AACVD,oBAAAA,KAAG,MAAM;AAAA,QACR,SAAS,CAAC,QAAQ;AACjBC,wBAAAA,kDAAY,IAAI,IAAI;AAEpB,cAAI,IAAI,MAAM;AAEdA,0BAAAA,MAAI,QAAQ;AAAA,cACX,KAAI;AAAA,cACJ,QAAO;AAAA,cACP,MAAK;AAAA,gBACJ,OAAM;AAAA,gBACN,QAAO;AAAA,gBACP,SAAQ,IAAI;AAAA,gBACZ,YAAW;AAAA,cACX;AAAA,cACD,SAAQ,CAACC,SAAO;AACfD,8BAAAA,MAAA,MAAA,OAAA,+BAAYC,IAAG;AACfF,8BAAE,KAAC,eAAe,eAAeE,KAAI,KAAK,WAAW;AACrDF,8BAAAA,KAAG,eAAe,UAAUE,KAAI,KAAK,MAAM;AAC3C,qBAAK,MAAM;AACX,qBAAK,MAAM,MAAM,KAAK,QAAQ;AAAA;cAC7B,KAAKA,MAAK;AACXD,8BAAAA,MAAA,MAAA,OAAA,+BAAYC,IAAG;AAAA,cAChB;AAAA,aAEA;AAAA,UACD;AAAA,QAAC;AAAA,QACF,MAAM,CAAC,QAAQ;AAACD,wBAAY,MAAA,MAAA,OAAA,+BAAA,GAAG;AAAA,QAAC;AAAA,OAChC;AAAA,IACD;AAAA,IACA,QAAO;AACRA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI;AAAA,OACJ;AAAA,IACA;AAAA,EACC;AACF;;;;;;;;;;;;;;;;;;;;;;;;AC7FF,GAAG,WAAW,eAAe;"}